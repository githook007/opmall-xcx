(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/basic-component/app-goods/app-goods"],{"1cf5":function(t,e,i){"use strict";i.r(e);var o=i("c1ae"),n=i.n(o);for(var r in o)"default"!==r&&function(t){i.d(e,t,function(){return o[t]})}(r);e["default"]=n.a},"43da":function(t,e,i){"use strict";var o=function(){var t=this,e=t.$createElement,i=(t._self._c,["advance","miaosha"].indexOf(t.goods.sign)),o=["weekly_buy","pintuan","advance","flash_sale","pick"].indexOf(t.goods.sign),n=["advance","flash_sale","miaosha"].indexOf(t.goods.sign),r=Number(t.goods.deposit),s=Number(t.goods.swell_deposit),a=Number(t.goods.rule_price),c=Number(t.goods.rule_num),l=["advance","flash_sale","miaosha"].indexOf(t.goods.sign),d=Number(t.goods.integral),h=Number(t.goods.currency);t.$mp.data=Object.assign({},{$root:{g0:i,g1:o,g2:n,m0:r,m1:s,m2:a,m3:c,g3:l,m4:d,m5:h}})},n=[];i.d(e,"a",function(){return o}),i.d(e,"b",function(){return n})},"8f51":function(t,e,i){},ad05:function(t,e,i){"use strict";i.r(e);var o=i("43da"),n=i("1cf5");for(var r in n)"default"!==r&&function(t){i.d(e,t,function(){return n[t]})}(r);i("c3cf");var s=i("2877"),a=Object(s["a"])(n["default"],o["a"],o["b"],!1,null,"2665fe03",null);e["default"]=a.exports},c1ae:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i("2f62");function n(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,o)}return i}function r(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?n(i,!0).forEach(function(e){s(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function s(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var a=function(){return i.e("components/page-component/app-diy-goods-list/app-diy-composition-image").then(i.bind(null,"92f0"))},c=function(){return Promise.all([i.e("common/vendor"),i.e("components/page-component/goods/u-attr")]).then(i.bind(null,"b4bc"))},l={name:"app-goods",components:{uAttr:c,appDiyCompositionImage:a},data:function(){return{attrGoods:{goods:null,attrShow:0,select:null,disable:"disable"},rate:0,endHeight:56,endImage:"",time:0,countdown:null,hour:"00",min:"00",sec:"00",activityImage:"",itemWidth:0,price:{priceFloat:"",priceInt:""},memberPrice:{priceFloat:"",priceInt:""}}},props:{price_extra:String,click:{type:Boolean,default:function(){return!1}},click_btn:{type:Boolean,default:function(){return!1}},index:Number,showTag:{type:[Number,Boolean],default:function(){return!0}},padding:Number,extra:String,theme:Object,goods:Object,buttonColor:String,listStyle:{type:Number,default:function(){return-1}},fill:{type:Number,default:function(){return 1}},goodsCoverProportion:{type:String,default:function(){return"1:1"}},goodsStyle:{type:Number,default:function(){return-1}},showGoodsName:{type:[Number,Boolean],default:function(){return!0}},showGoodsPrice:{type:[Number,Boolean],default:function(){return!0}},textStyle:{type:Number,default:function(){return 1}},showBuyBtn:{type:[Number,Boolean],default:function(){return!0}},showProgressBar:{type:[Number,Boolean],default:function(){return!1}},buyBtnStyle:{type:Number,default:function(){return 1}},buyBtnImage:{type:String,default:function(){return""}},btnSize:Number,buyBtnText:String,showGoodsTag:{type:[Number,Boolean],default:function(){return!1}},goodsTagPicUrl:String,isUnderLinePrice:{type:[Number,Boolean],default:function(){return!1}},no_extra:{type:[Number,Boolean],default:function(){return!1}},buy:{type:[Number,Boolean],default:function(){return!1}},c_border_top:Number,c_border_bottom:Number,scrollWidth:{type:Number,default:function(){return 208}},show_time:{type:[Number,Boolean],default:function(){return!0}},goodsEndColor:{type:String,default:function(){return"#FFFFFF"}},goodsBorderColor:String,show_sale:{type:[Number,Boolean],default:function(){return!1}},isIndex:{type:[Number,Boolean],default:function(){return!1}}},created:function(){var t=this;t.activityImage=t.diyImg[t.goods.sign],1!=t.goods.is_negotiable?t.price=t.handlePrice(t.price_extra?t.goods.min_price:t.goods.price?t.goods.price:t.goods.goods.price):t.price=t.handlePrice(t.appSetting.negotiable_text),t.showMemberPrice&&(t.memberPrice=t.handlePrice(t.goods.level_price)),"flash_sale"==t.goods.sign&&(t.rate=t.goods.sales/(+t.goods.sales+ +t.goods.goods_stock)*100+"%"),t.goods.end_prepayment_time>0&&(t.time=t.goods.end_prepayment_time),t.goods.end_prepayment_time<0&&t.countTime(),t.time>0&&!t.isIndex&&t.show_time&&(t.countdown=setInterval(function(){t.getTime(t.time)},1e3))},computed:r({},(0,o.mapState)({diyImg:function(t){return t.mallConfig.__wxapp_img.diy},appImg:function(t){return t.mallConfig.__wxapp_img.mall},appSetting:function(t){return t.mallConfig.mall.setting}}),{},(0,o.mapGetters)("mallConfig",{getVideo:"getVideo",getTheme:"getTheme"}),{themeColor:function(){return this.theme?this.theme:this.getTheme},showMemberPrice:function(){return 1==this.goods.is_level&&1!=this.goods.is_negotiable&&(this.goods.level_price>0||0==this.goods.level_price)},showBtn:function(){return this.showBuyBtn&&1!=this.goods.is_negotiable&&1==this.textStyle&&0!=this.listStyle&&3!=this.listStyle&&""==this.buyBtnImage},extraMsg:function(){return(-1!==["weekly_buy","pintuan","advance","flash_sale","pick"].indexOf(this.goods.sign)||1!=this.listStyle)&&-1==["step","integral_mall"].indexOf(this.goods.sign)},pluginTag:function(){if(this.goods.composition_id>0)return this.goods.tag;if(!this.goods.sign)return"";switch(this.goods.sign){case"pintuan":return"拼团";case"miaosha":return"秒杀";case"pick":return"N元任选";case"advance":return"预售";case"bargain":return"砍价";case"gift":return"社交送礼";case"flash_sale":return"限时抢购";case"exchange":return"礼品卡";case"wholesale":return"商品批发";case"step":return"步数宝";case"weekly_buy":return"周期购";case"lottery":return"抽奖";case"booking":return"预约"}},appGoodsClass:function(){var t="";return-1==this.listStyle?(t+="list dir-left-nowrap cross-center","flash-sale"!=this.goods.sign&&"advance"!=this.goods.sign||(t+=" long")):0==this.listStyle?t+="scroll dir-top-nowrap":3==this.listStyle?t+="third dir-top-nowrap":t+="dir-top-nowrap",this.isIndex&&(t+=" is-index"),t},svipMargin:function(){var t="0 0 0 20rpx";return(0==this.listStyle&&this.scrollWidth<304||3==this.listStyle||"flash_sale"==this.goods.sign&&!this.isIndex)&&(t=t.replace("0","8rpx")),(2!=this.textStyle||0==this.listStyle&&this.scrollWidth<304||3==this.listStyle||!this.extra&&-1===["weekly_buy","pintuan","advance","pick"].indexOf(this.goods.sign))&&(t=t.replace("20rpx","0")),t},listSvipMargin:function(){var t="0 0 0 20rpx";return(0==this.listStyle&&this.scrollWidth<304||3==this.listStyle||"flash_sale"==this.goods.sign)&&(t=t.replace("0","8rpx")),2==this.textStyle&&this.extraMsg||(t=t.replace("20rpx","0")),t},btnImageStyle:function(){var t="background-color: ".concat(this.themeColor.background,";width: ").concat(this.btnSize,"rpx;height: ").concat(this.btnSize,"rpx;flex-shrink:0;background-image: url(").concat(this.buyBtnImage,");background-repeat: no-repeat;background-size: 100% 100%;border: 0;border-radius: 50%;margin-left: 12rpx;");return t},coverRadius:function(){var t="";return this.isIndex?t="".concat(this.c_border_top,"rpx"):(t="".concat(this.c_border_top,"rpx ").concat(this.c_border_top,"rpx 0 0"),-1==this.listStyle&&(t="".concat(this.c_border_top,"rpx 0 0 ").concat(this.c_border_bottom,"rpx"))),t},coverHeight:function(){var t=256;return this.listStyle>0?t="3-2"==this.goodsCoverProportion&&1==this.listStyle?"".concat(this.itemWidth/3*2):"".concat(this.itemWidth):(t=-1!==["flash_sale","miaosha"].indexOf(this.goods.sign)&&this.showTag?276:256,2==this.goodsStyle&&(t-=4)),0==this.listStyle&&(t="".concat(this.scrollWidth)),t+"rpx"},coverStyle:function(){var t="height: ".concat(this.coverHeight>0?this.coverHeight:0==this.listStyle?this.scrollWidth:-1==this.listStyle?256:this.itemWidth,"rpx;border-radius: ").concat(this.coverRadius);return t},priceFlex:function(){return this.price_extra?"":(-1==this.listStyle&&("advance"==this.goods.sign||"flash_sale"==this.goods.sign)||1==this.listStyle&&1==this.textStyle||0==this.listStyle&&this.scrollWidth>208&&!this.isIndex)&&"integral_mall"!=this.goods.sign&&"step"!=this.goods.sign?"dir-left-nowrap cross-bottom":"dir-bottom-nowrap"},marginStyle:function(){var t="height: 100%;";return this.itemWidth=750-2*this.padding,0!=this.listStyle&&(2==this.listStyle?this.itemWidth=(750-2*this.padding-20)/2:3==this.listStyle&&(this.itemWidth=(750-2*this.padding-32)/3),this.index%3==1&&3==this.listStyle?t+="padding: 20rpx 16rpx 0;width: ".concat(this.itemWidth+32,"rpx;"):t+="width: ".concat(this.itemWidth,"rpx;")),0==this.index||1==this.index&&-1!=this.listStyle&&1!=this.listStyle||2==this.index&&-1!=this.listStyle&&1!=this.listStyle&&2!=this.listStyle||0==this.listStyle?t+="padding-top: 0;":t+="padding-top: 20rpx;",t},appGoodsStyle:function(){var t="width: 100%;border-radius: ".concat(this.c_border_top,"rpx ").concat(this.c_border_top,"rpx ").concat(this.c_border_bottom,"rpx ").concat(this.c_border_bottom,"rpx;background-color: ").concat(this.goodsEndColor,";");return 0==this.listStyle&&(t+="width: ".concat(this.scrollWidth,"rpx;")),2==this.goodsStyle?t+="border: 2rpx solid #CCCCCC;":this.goodsBorderColor&&(t+="border: 2rpx solid ".concat(this.goodsBorderColor,";")),0==this.index&&0==this.listStyle&&(t+="margin-left: 0;"),-1==this.listStyle&&-1!==["flash_sale","miaosha"].indexOf(this.goods.sign)&&(t+="height: 276rpx;"),t},btnStyle:function(){var t="";return this.buyBtnStyle>2&&(t+="border-radius: 24rpx;"),this.buyBtnStyle%2==1?t+="background-color: ".concat(this.buttonColor?this.buttonColor:this.themeColor.color,";"):this.buyBtnStyle%2==0&&(t+="color: ".concat(this.buttonColor,";border: 2rpx solid ").concat(this.buttonColor)),t},compositionStyle:function(){var t="border-top-left-radius: ".concat(this.c_border_top,"rpx;overflow: hidden;flex-shrink: 0;");return-1==this.listStyle?t+="width: 342rpx;height: 100%;border-bottom-left-radius: ".concat(this.c_border_bottom,"rpx;"):1==this.listStyle?t+="width: 100%;height: 452rpx;border-top-right-radius: ".concat(this.c_border_top,"rpx;"):2==this.listStyle&&(t+="width: 100%;height: 220rpx;border-top-right-radius: ".concat(this.c_border_top,"rpx;")),t}}),destroyed:function(){clearTimeout(this.countdown)},watch:{"attrGoods.attrShow":{handler:function(t){this.$emit("show",t)},deep:!0,immediate:!0}},methods:{getTime:function(){this.time=this.time-1;var t=parseInt(this.time/3600),e=this.time%3600,i=parseInt(e/60),o=e%60;this.hour=t<10?"0"+t.toString():t,this.min=i<10?"0"+i.toString():i,this.sec=o<10?"0"+o.toString():o,this.time<1&&(this.countTime(),clearTimeout(this.countdown))},countTime:function(){this.endHeight=52,2==this.listStyle?(this.endImage=this.diyImg.small_end,this.endHeight=56):3==this.listStyle?this.endImage=this.diyImg.middle_end:0==this.listStyle?this.endImage=this.diyImg.big_end:(this.endImage=this.diyImg[this.goods.sign+"_end"],this.endHeight=80)},route_go:function(e){e.video_url&&1==this.getVideo?t.navigateTo({url:"/pages/goods/video?goods_id=".concat(e.id,"&sign=").concat(e.sign)}):t.navigateTo({url:e.page_url})},clickBtn:function(){this.buy?(this.specification(this.goods),this.$emit("click",this.goods)):this.click_btn||this.click?this.$emit("click",this.goods):this.route_go(this.goods)},toDetail:function(){this.click?this.$emit("click",this.goods):this.route_go(this.goods)},specification:function(e){var i=this;this.attrGoods.select=null,t.showLoading({text:"",mask:!0}),this.$request({url:this.$api.goods.attr,data:{id:e.id,mch_id:e.mch_id}}).then(function(o){t.hideLoading(),0===o.code?(i.attrGoods.goods=Object.assign(e,o.data),i.$emit("show",!0),i.attrGoods.attrShow=!0):t.showToast({title:o.msg,icon:"none"})})},checkClick:function(t){var e=t.item;this.attrGoods.select=e},cartResult:function(t){var e=t.checked;this.$emit("cart",e)}}};e.default=l}).call(this,i("543d")["default"])},c3cf:function(t,e,i){"use strict";i("8f51")}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/basic-component/app-goods/app-goods-create-component',
    {
        'components/basic-component/app-goods/app-goods-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("ad05"))
        })
    },
    [['components/basic-component/app-goods/app-goods-create-component']]
]);                
