(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/order-submit/behalf"],{"3bbb":function(t,e,n){},"5f9d":function(t,e,n){"use strict";n("3bbb")},"7c13":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{type:1,id:"",info:{},day:"",times:"",minute:"",second:"",timer:null,background:""}},onShareAppMessage:function(t){return{title:"好友邀您共建友谊巨轮~",id:this.id}},onLoad:function(t){this.id=t.id,this.background=t.background,console.log(this.background),this.loadData();var e=this.$user.getUserInfoResolve;e({behalf:"behalf",id:this.id})},onShow:function(){var t=this;""!==this.info&&(this.timer=setInterval(function(){t.showtime(t.info.auto_cancel_time)},1e3)),this.userLnfo(),this.loadData()},onUnload:function(){clearInterval(this.timer)},methods:{loadData:function(){var e=this;this.$request({url:this.$api.behalf.another,method:"get",data:{id:this.id}}).then(function(n){t.hideLoading(),0==n.code&&(console.log(n),e.info=n.data)}).catch(function(){t.hideLoading()})},showtime:function(t){if(0==this.info.status)clearInterval(this.timer);else{var e=t.replace(/-/g,"/"),n=new Date,i=new Date(e),a=i.getTime()-n.getTime(),o=Math.floor(a/36e5%24),c=Math.floor(a/6e4%60),s=Math.floor(a/1e3%60);if(this.times=o,this.minute=c,this.second=s,0==this.times&&0==this.minute&&0==this.second)return clearInterval(this.timer),void(this.info.status=0)}},btn:function(){var e=this;e.$request({url:e.$api.payment.pay_data,data:{id:e.info.id,pay_type:"wechat"}}).then(function(n){t.hideLoading(),0==n.code&&t.requestPayment({provider:"wxpay",timeStamp:n.data.timeStamp,nonceStr:n.data.nonceStr,package:n.data.package,signType:n.data.signType,paySign:n.data.paySign,success:function(n){t.showToast({title:"支付成功",icon:"none"}),e.loadData(),setTimeout(function(){e.$router.go(0)},500)},fail:function(e){t.showToast({title:"支付失败",icon:"none"})}}),1==n.code&&(t.showToast({title:"订单已支付",icon:"none"}),e.loadData(),setTimeout(function(){e.$router.go(0)},500))}).catch(function(e){t.hideLoading()})},jump:function(e){t.redirectTo({url:e})}}};e.default=n}).call(this,n("543d")["default"])},cc99:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement;t._self._c},a=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a})},e7c3:function(t,e,n){"use strict";n.r(e);var i=n("cc99"),a=n("ebae");for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);n("5f9d");var c=n("2877"),s=Object(c["a"])(a["default"],i["a"],i["b"],!1,null,"cfa093c4",null);e["default"]=s.exports},ebae:function(t,e,n){"use strict";n.r(e);var i=n("7c13"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);e["default"]=a.a}},[["aa12","common/runtime","common/vendor"]]]);