(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user-center/user-center"],{"0455":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n("2f62");function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(n,!0).forEach(function(e){i(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c=function(){return Promise.all([n.e("common/vendor"),n.e("components/page-component/app-user-center-top/app-user-center-top")]).then(n.bind(null,"a527"))},u=function(){return n.e("pages/user-center/components/app-account-balance").then(n.bind(null,"daab"))},s=function(){return n.e("components/page-component/app-my-order/app-my-order").then(n.bind(null,"d650"))},p=function(){return n.e("components/page-component/app-copyright/app-copyright").then(n.bind(null,"7fe8"))},l=function(){return Promise.all([n.e("common/vendor"),n.e("components/page-component/app-vip-card/app-vip-card")]).then(n.bind(null,"19f0"))},d=function(){return n.e("pages/user-center/components/app-user").then(n.bind(null,"2fcd"))},f=function(){return n.e("pages/user-center/components/app-foot").then(n.bind(null,"86f6"))},h=function(){return n.e("pages/user-center/components/app-order").then(n.bind(null,"387d"))},m=function(){return n.e("pages/user-center/components/app-svip").then(n.bind(null,"8536"))},g=function(){return n.e("pages/user-center/components/app-account").then(n.bind(null,"eb1f"))},b=function(){return n.e("pages/user-center/components/app-menu").then(n.bind(null,"4367"))},v=function(){return n.e("components/page-component/app-recommended-product/app-recommended-product-list").then(n.bind(null,"57ba"))},y=function(){return n.e("components/page-component/u-announcement/u-announcement").then(n.bind(null,"94703"))},w=function(){return n.e("components/page-component/app-swiper/app-swiper").then(n.bind(null,"8af3"))},_=function(){return n.e("components/page-component/app-swiper/swiper").then(n.bind(null,"b6b4"))},k=function(){return n.e("components/page-component/app-image-ad/app-image-ad").then(n.bind(null,"605d"))},C=function(){return n.e("components/page-component/app-associated-link/app-associated-link").then(n.bind(null,"1cff"))},O=function(){return n.e("components/basic-component/app-hotspot/app-hotspot").then(n.bind(null,"9c0a"))},T=function(){return n.e("components/basic-component/app-empty/app-empty").then(n.bind(null,"a7c3"))},L=function(){return n.e("components/page-component/app-customer/app-customer").then(n.bind(null,"ef76"))},x=function(){return n.e("components/page-component/index/app-nav-bar").then(n.bind(null,"59f3"))},A=function(){return Promise.all([n.e("common/vendor"),n.e("components/page-component/app-attr/app-attr")]).then(n.bind(null,"d3c4"))},S=function(){return n.e("components/page-component/index/app-diy-list").then(n.bind(null,"a401"))},P={name:"user-center",components:{AppCopyright:p,AppUserCenterTop:c,AppAccountBalance:u,AppMyOrder:s,AppVipCard:l,AppUser:d,AppFoot:f,AppOrder:h,AppSvip:m,AppAccount:g,AppMenu:b,appRecommendedProductList:v,uAnnouncement:y,appSwiper:w,uSwiper:_,appImageAd:k,appAssociatedLink:C,appHotspot:O,appEmpty:T,appCustomer:L,appAttr:A,appNavBar:x,appDiyList:S},data:function(){return{isOld:!1,showIndex:1,attrGoods:{goods:{},attrShow:0},centerList:[],scrollTop:0,startHeight:0}},watch:{userCenter:{handler:function(t){var e=this;if(this.isOld=!1,this.isNew&&this.userCenter){var n=setInterval(function(){e.showIndex<e.userCenter.length+1?e.showIndex=e.showIndex+1:clearTimeout(n)},200);this.centerList=this.userCenter;var r=!0,o=!1,a=void 0;try{for(var i,c=this.centerList[Symbol.iterator]();!(r=(i=c.next()).done);r=!0){var u=i.value;"goods"==u.id&&u.data.showCat&&(u.data.activeCurrent=0,u.data.scrollLeft=0,u.data.list=u.data.catList[0].goodsList)}}catch(s){o=!0,a=s}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}}else this.isOld=!0},immediate:!0}},computed:a({scrollView:function(){var t="height: calc(100vh - 110rpx - env(safe-area-inset-bottom));";return t},navbarStatus:function(){return-1===["windows","mac"].indexOf(this.systemInfo.platform)},isNew:function(){return!!Array.isArray(this.userCenter)},pageName:function(){return this.userCenterTitle?this.userCenterTitle:this.$children[0]?this.$children[0].navigationBarTitle:"用户中心"},bg:function(){var t="";if(Array.isArray(this.userCenter)){var e=!0,n=!1,r=void 0;try{for(var o,a=this.userCenter[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){var i=o.value;"background"==i.id&&(t=i.data)}}catch(c){n=!0,r=c}finally{try{e||null==a.return||a.return()}finally{if(n)throw r}}}return t},bgSetting:function(){var t="min-height: 100%;";return this.bg&&(t+="background-color: ".concat(this.bg.backgroundColor,";background-image:url(").concat(this.bg.backgroundPicUrl,");background-size: ").concat(this.bg.backgroundWidth,"%  ").concat(this.bg.backgroundHeight,"%;background-repeat: ").concat(this.bg.repeatText,";background-position: ").concat(this.bg.positionText)),t}},(0,r.mapState)({copyright:function(t){return t.mallConfig.copyright},userInfo:function(t){return t.user.info},systemInfo:function(t){return t.gConfig.systemInfo},is_icon_super_vip:function(t){return t.mallConfig.mall.setting.is_icon_super_vip},foot_bar:function(t){return t.userCenter.data.foot_bar},userCenterTitle:function(t){return t.userCenter.title},account_bar_status:function(){return this.userCenter.account_bar?this.userCenter.account_bar.status:0}}),{copyrightLink:function(){if(!this.copyright)return{};var t=this.copyright.link,e=t.open_type,n=t.new_link_url,r=t.params;return{openType:e,url:n,params:r||[]}}},(0,r.mapGetters)("mallConfig",{getTheme:"getTheme",tabBarNavs:"getNavBar"}),{},(0,r.mapGetters)("userCenter",{userCenter:"userCenter"}),{listStyle:function(){return 1==this.userCenter.menu_style?"row":2==this.userCenter.menu_style?"grid dir-left-wrap":""}}),onLoad:function(){this.$commonLoad.onload()},onShow:function(){var e=this;this.$event.on(this.$const.EVENT_USER_LOGIN).then(function(){t.redirectTo({url:"/pages/user-center/user-center"})}),this.$user.isLogin()&&this.$store.dispatch("user/refresh"),this.$nextTick().then(function(){e.$store.dispatch("userCenter/data")})},methods:{changeTopNav:function(e,n){n.activeCurrent=e,n.list=n.catList[e].goodsList,this.$forceUpdate();for(var r=0,o=0;o<n.catList.length;o++){if(o===e){r+=n.catList[o].width/2;break}r+=n.catList[o].width+t.upx2px(44)}n.scrollLeft=r-t.upx2px(335)||0},buyProduct:function(t){this.attrGoods.goods=t.goods,this.attrGoods.attrShow=t.attrShow},rubikHotspot:function(t){return t&&t.link&&(t.link.url=t.link.value,t.link.openType=t.link.open_type),t},transLabelBackgroundPosition:function(t){switch(t=Number(t),t){case 1:return"left top";case 2:return"center top";case 3:return"right top";case 4:return"left center";case 5:return"center center";case 6:return"right center";case 7:return"left bottom";case 8:return"center bottom";case 9:return"right bottom";default:return"center"}},transLabelBackgroundRepeat:function(t){switch(t=Number(t),t){case 1:return"no-repeat";case 2:return"repeat-x";case 3:return"repeat-y";case 4:return"repeat";default:return"no-repeat"}},bindScroll:function(t){var e=t.detail;(e.scrollTop>10&&this.scrollTop<=10||e.scrollTop<10&&this.scrollTop>10)&&(this.scrollTop=e.scrollTop),this.$store.dispatch("page/actionSetScrollTop",e.scrollTop)},headHeight:function(t){console.log(t),this.startHeight=2*t},router:function(e){var n="";n="我的收藏"===e?"/pages/favorite/favorite":"/pages/foot/index/index",t.navigateTo({url:n})}},filters:{showNum:function(t,e){return"我的收藏"===t?e&&e.favorite?e.favorite:0:e&&e.footprint?e.footprint:0}}};e.default=P}).call(this,n("543d")["default"])},"26ae":function(t,e,n){"use strict";n.r(e);var r=n("0455"),o=n.n(r);for(var a in r)"default"!==a&&function(t){n.d(e,t,function(){return r[t]})}(a);e["default"]=o.a},6302:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=(t._self._c,t.__map(t.foot_bar,function(e,n){var r=t._f("showNum")(e.name,t.userInfo);return{$orig:t.__get_orig(e),f0:r}})),r=t.__map(t.centerList,function(e,n){var r=t.transLabelBackgroundPosition(e.data.position),o=t.transLabelBackgroundRepeat(e.data.mode),a=t.__map(e.data.hotspot,function(e,n){var r=t.rubikHotspot(e);return{$orig:t.__get_orig(e),m2:r}}),i=Object.assign({},e.data.link);return{$orig:t.__get_orig(e),m0:r,m1:o,l1:a,g0:i}});t.$mp.data=Object.assign({},{$root:{l0:n,l2:r}})},o=[];n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o})},"678a":function(t,e,n){"use strict";n.r(e);var r=n("6302"),o=n("26ae");for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);n("b1c1");var i=n("2877"),c=Object(i["a"])(o["default"],r["a"],r["b"],!1,null,"414ed3d3",null);e["default"]=c.exports},ad11:function(t,e,n){},b1c1:function(t,e,n){"use strict";n("ad11")}},[["b62d","common/runtime","common/vendor"]]]);