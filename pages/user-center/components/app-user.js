(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user-center/components/app-user"],{"2fcd":function(t,a,e){"use strict";e.r(a);var i=e("f8fa"),r=e("5144");for(var s in r)"default"!==s&&function(t){e.d(a,t,function(){return r[t]})}(s);e("a1b6");var n=e("2877"),o=Object(n["a"])(r["default"],i["a"],i["b"],!1,null,"87e71e62",null);a["default"]=o.exports},5144:function(t,a,e){"use strict";e.r(a);var i=e("b9d6"),r=e.n(i);for(var s in i)"default"!==s&&function(t){e.d(a,t,function(){return i[t]})}(s);a["default"]=r.a},a1b6:function(t,a,e){"use strict";e("d4b0c")},b9d6:function(t,a,e){"use strict";(function(t){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i=e("2f62");function r(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);a&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),e.push.apply(e,i)}return e}function s(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?r(e,!0).forEach(function(a){n(t,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):r(e).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))})}return t}function n(t,a,e){return a in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}var o={name:"app-user",props:{value:Object,bg:Object,nav:[Number,String]},data:function(){return{navHeight:0,bg_height:0,img_height:0,user_height:0,data:{}}},computed:s({},(0,i.mapState)({mall:function(t){return t.mallConfig.mall},is_icon_super_vip:function(t){return t.mallConfig.mall.setting.is_icon_super_vip},is_vip_card_user:function(t){return t.user.info&&t.user.info.is_vip_card_user?1:0}}),{},(0,i.mapGetters)({userInfo:"user/info"}),{canIUseGetUserProfile:function(){return this.$user.canIUseGetUserProfile()},isLogin:function(){return this.$user.isLogin()},avatar:function(){return this.isLogin&&this.userInfo?this.userInfo.avatar:"/static/image/user-default-avatar.png"},all_height:function(){this.navHeight=this.nav;var t=176-this.navHeight;this.bg_height=this.data.bg_height-t,this.img_height=this.data.img_height-t;var a=1==this.data.bg_style?this.bg_height:this.img_height;a=Math.max(a,200+this.navHeight);var e=+this.user_height;this.data.top_style,this.data.top_size;if(console.log(this.bg_height,this.img_height,a),this.data.top_margin>0&&(e=+this.user_height+ +this.data.top_margin+ +this.navHeight),3==this.data.top_style&&(e+=20),+e>a&&(a=e),this.data.address&&1==this.data.address.status&&1==this.data.address.mode){var i=+this.data.address.top_margin+ +this.navHeight+56;+i>a&&(a=i)}return console.log("----",a),a},areaStyle:function(){var t="";return 1==this.data.bg_style?(t+="height: ".concat(this.bg_height,"rpx;width:100%;"),1==this.data.mode&&(t+="background-color: ".concat(this.data.bg_color,";"))):"2"==this.data.bg_style&&(t+='background-image: url("'.concat(this.data.top_pic_url,'");height: ').concat(this.all_height,"rpx;background-size: 100%;background-position: bottom center;")),t},avatarStyle:function(){var t="border-radius: 50%;height: ".concat(this.data.top_size,"rpx;width: ").concat(this.data.top_size,"rpx;");if(2!=this.data.top_style&&(t+="margin-right: 25rpx;"),3!=this.data.top_style){var a=this.is_vip_card_user&&1==this.is_icon_super_vip?"#ffe993":"#ffffff";t+="border: 4rpx solid ".concat(a,";")}return t},vipIconStyle:function(){var t=this.data.top_size/100>1?1:this.data.top_size/100,a=3==this.data.top_style?28.5*t-4:28.5*t,e=3==this.data.top_style?29*t-4:29*t,i="width: ".concat(58*t,"rpx;height: ").concat(57*t,"rpx;top: -").concat(a,"rpx;right: -").concat(e,"rpx;");return i},updateText:function(){var t="height: ".concat(27.5*this.data.top_size/67.5,"rpx;"),a=32;return this.data.top_size<100?a=24:this.data.top_size>140&&(a=40),t+="font-size: ".concat(a,"rpx;"),t},userStyle:function(){var t=this.data.top_size+40>176?this.data.top_size+40:176;if(this.data.address&&1==this.data.address.status&&1==this.data.address.mode){var a=+this.data.address.top_margin+56;+a>t&&(t=a)}this.user_height=1==this.data.top_style?this.data.top_size+8:3==this.data.top_style?t:this.data.top_size+110>164?this.data.top_size+110:164;var e="height: ".concat(this.user_height,"rpx;padding: 0 24rpx 10rpx;top: ").concat(this.data.top_margin+ +this.navHeight,"rpx;");return 3==this.data.top_style&&(e+="width: 702rpx;background-color: ".concat(this.data.card_color,";border-radius: 8rpx;left: 24rpx;box-shadow: 0rpx 0rpx 10rpx 0rpx rgba(0, 0, 0, 0.1);")),e},loginStyle:function(){var t="color: ".concat(this.data.nickname_color,";border-color: ").concat(this.data.nickname_color,";");return 2==this.data.login_style?(t+="border-color: transparent;",2==this.data.top_style&&(t+="text-align: center;")):(2==this.data.top_style&&(t+="margin-top: 26rpx;"),3==this.data.login_style&&(t+="background-color: ".concat(this.data.nickname_color,";color: ").concat(this.data.login_color?this.data.login_color:"#353535",";"))),t},addressStyle:function(){if(!this.data.address)return"";var t=3==this.data.top_style?0:this.navHeight,a="background-color: ".concat(this.data.address.bg_color,";top: ").concat(this.data.address.top_margin+t,"rpx;");return 1==this.data.address.border&&(a+="border: 1rpx solid ".concat(this.data.address.border_color,";border-right-width: 0;")),a}}),created:function(){this.data=JSON.parse(JSON.stringify(this.value))},methods:{jump:function(){if(this.userInfo){var a={avatarUrl:this.userInfo.avatar,nickName:this.userInfo.nickname};t.navigateTo({url:"/pages/user-center/user-info?userInfo=".concat(JSON.stringify(a))})}else this.callLogin()},router:function(a){t.navigateTo({url:a})},callLogin:function(){this.$store.dispatch("user/accessToken")},getUserInfoClick:function(t){var a=this;this.$user.getUserProfile(t).then(function(t){a.getUserInfo(t)}).catch(function(t){console.log(t)})},getUserInfo:function(a){var e=this;t.login({scopes:"auth_user",success:function(i){console.log(i);var r={encryptedData:a.detail.encryptedData,iv:a.detail.iv,rawData:a.detail.rawData,signature:a.detail.signature,code:i.code};e.$request({url:e.$api.passport.login,method:"post",data:r}).then(function(a){if(t.hideLoading(),0!==a.code)return reject(a.msg);t.showToast({title:"资料已更新",icon:"none"}),e.$storage.setStorageSync("_USER_ACCESS_TOKEN",a.data.access_token)})}})}}};a.default=o}).call(this,e("543d")["default"])},d4b0c:function(t,a,e){},f8fa:function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement;t._self._c},r=[];e.d(a,"a",function(){return i}),e.d(a,"b",function(){return r})}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'pages/user-center/components/app-user-create-component',
    {
        'pages/user-center/components/app-user-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("2fcd"))
        })
    },
    [['pages/user-center/components/app-user-create-component']]
]);                
